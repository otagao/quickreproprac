<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sketch Practice Tool</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <!-- Control Panel -->
    <div class="control-panel">
      <h1>Sketch Practice Tool</h1>

      <div class="control-section">
        <h3>Practice Mode</h3>
        <div class="mode-toggle">
          <button id="imageModeBtn" class="btn-mode active">Image Mode</button>
          <button id="freeModeBtn" class="btn-mode">Free Mode</button>
        </div>
      </div>

      <div class="control-section" id="folderSection">
        <h3>Folder Selection</h3>
        <div id="folderList" class="folder-list">
          <p class="loading">Loading folders...</p>
        </div>
        <button id="loadImagesBtn" class="btn-primary">Load Images</button>
      </div>

      <div class="control-section" id="timerSection">
        <h3>Timer Settings</h3>
        <label for="intervalInput">Switch Interval (seconds):</label>
        <input type="number" id="intervalInput" min="1" max="300" value="30">
        <div id="freeModeMaxSwitches" style="display: none;">
          <label for="maxSwitchesInput">Max Switches (Free Mode):</label>
          <input type="number" id="maxSwitchesInput" min="1" max="100" value="10">
        </div>
        <button id="startTimerBtn" class="btn-primary">Start Auto-Switch</button>
        <button id="stopTimerBtn" class="btn-secondary">Stop</button>
        <button id="nextImageBtn" class="btn-secondary">Next Image</button>
      </div>

      <div class="control-section">
        <h3>Drawing Tools</h3>
        <div class="tool-group">
          <label>Pen Presets (1, 2, 3):</label>
          <div class="preset-buttons">
            <button class="btn-preset active" data-preset="0">
              <span class="preset-label">Preset 1</span>
              <span class="preset-info" id="presetInfo0">#000000 / 3px</span>
            </button>
            <button class="btn-preset" data-preset="1">
              <span class="preset-label">Preset 2</span>
              <span class="preset-info" id="presetInfo1">#808080 / 5px</span>
            </button>
            <button class="btn-preset" data-preset="2">
              <span class="preset-label">Preset 3</span>
              <span class="preset-info" id="presetInfo2">#000000 / 2px</span>
            </button>
          </div>
        </div>
        <div class="tool-group">
          <label for="colorPicker">Pen Color:</label>
          <input type="color" id="colorPicker" value="#000000">
        </div>
        <div class="tool-group">
          <label for="penSizeSlider">Pen Size: <span id="penSizeValue">3</span>px</label>
          <input type="range" id="penSizeSlider" min="1" max="50" value="3">
        </div>
        <div class="tool-group">
          <button id="eraserBtn" class="btn-tool">Eraser</button>
          <button id="penBtn" class="btn-tool active">Pen</button>
          <button id="clearBtn" class="btn-danger">Clear Canvas</button>
        </div>
      </div>

      <div class="status-section">
        <p id="statusText">Select folders and load images to start</p>
        <p id="imageCounter">0 / 0</p>
        <p id="timerDisplay">--:--</p>
      </div>

      <div class="control-section">
        <button id="exportBtn" class="btn-primary" disabled>Export Saved Drawings</button>
        <p id="exportInfo" style="font-size: 12px; color: #808080; margin-top: 8px;">保存された模写: <span id="savedCount">0</span></p>
      </div>
    </div>

    <!-- Main Workspace -->
    <div class="workspace" id="workspace">
      <!-- Reference Image -->
      <div class="panel reference-panel" id="referencePanel">
        <h2>Reference</h2>
        <div class="image-container">
          <img id="referenceImage" src="" alt="Reference Image" style="display: none;">
          <p id="noImageText" class="no-image">No image loaded</p>
        </div>
      </div>

      <!-- Drawing Canvas -->
      <div class="panel canvas-panel" id="canvasPanel">
        <h2>Your Drawing</h2>
        <div class="canvas-container">
          <canvas id="drawingCanvas"></canvas>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
